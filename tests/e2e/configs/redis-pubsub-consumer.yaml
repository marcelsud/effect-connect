# Redis Pub/Sub Consumer - Subscribes to channel and writes to file
name: redis-pubsub-consumer

input:
  type: redis_pubsub
  host: localhost
  port: 6380
  channels:
    - "test-channel"

processors:
  - type: logging
    level: info

  - type: metadata
    fields:
      consumed: true
      consumedAt: "{{timestamp}}"

output:
  type: capture
  file: "tmp-e2e-tests/results/redis-pubsub-received.json"
